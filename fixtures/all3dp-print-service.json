{"swagger":"2.0","basePath":"/v1","schemes":["https"],"host":"price.all3dp.com","info":{"contact":{"name":"jonathan@all3dp.com"},"termsOfService":"https://all3dp.com/3dp-price-comparison-terms-of-service/","version":"1.0.0","title":"All3DP Print Engine REST-API","license":{"url":"http://www.apache.org/licenses/LICENSE-2.0.html","name":"Apache 2.0"},"description":"This is the REST-API for [price.all3dp.com](http://price.all3dp.com)\n\n[About All3DP](https://all3dp.com)\n\nFor this sample, you can use the api key `special-key` to test the authorization filters\n"},"definitions":{"Offer":{"type":"object","properties":{"materialConfigurationId":{"type":"string"},"price":{"$ref":"#/definitions/Price"}}},"MaterialConfiguration":{"items":{"type":"object","properties":{"printingService":{"type":"string","enum":["imaterialise","shapeways","sculpteo"]},"color":{"type":"string"},"material":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"finish":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"materialConfigurationId":{"type":"string"},"finishGroup":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}},"materialGroup":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"}}}}},"type":"array"},"Address":{"required":["firstName","lastName"],"type":"object","properties":{"lastName":{"type":"string"},"firstName":{"type":"string"},"countryCode":{"type":"string"}}},"Model":{"type":"object","properties":{"modelId":{"type":"string"},"designerCommissonCurrency":{"type":"string"},"designerCommisson":{"type":"number"},"downloadUrl":{"type":"string"},"mesh":{"type":"object","properties":{"area":{"type":"number"},"boundingBox":{"type":"object","properties":{"z":{"type":"number"},"x":{"type":"number"},"y":{"type":"number"}}},"volume":{"type":"number"}}},"unit":{"type":"string"},"filename":{"type":"string"}}},"Price":{"required":["net","tax","currency","hasPrice","errorMsg","state"],"type":"object","properties":{"net":{"type":"number"},"state":{"type":"string","enum":["checkoutPossible","estimate","inProgress","error","notPrintable"]},"hasPrice":{"type":"boolean"},"errorMsg":{"type":"string"},"currency":{"type":"string"},"shipping":{"type":"number"},"total":{"type":"number"},"tax":{"type":"number"}}},"CartItem":{"required":["scale","modelId","materialConfigurationId"],"type":"object","properties":{"amount":{"default":1,"format":"integer","type":"number"},"modelId":{"type":"string"},"scale":{"type":"number"},"materialConfigurationId":{"type":"string"}}}},"paths":{"/fetchModel":{"get":{"summary":"The printing engine will download a 3d-model from any location (url)","responses":{"405":{"description":"Invalid input"},"200":{"schema":{"type":"object","properties":{"modelId":{"type":"string"}}},"description":"successful operation"}},"produces":["application/json"],"parameters":[{"required":true,"in":"query","name":"modelLocation","type":"string","description":"The URL to the .stl file"},{"required":true,"in":"query","name":"unit","type":"string","enum":["mm","inch","cm","m"],"description":"The unit (mm, inch, cm, m) of the model"},{"required":false,"in":"query","name":"sessionToken","type":"string","description":"If you want to bind the uploaded model to your useraccount, you have to provide a session-token"}],"operationId":"fetchModel","description":"This is alternative way to upload a 3d-model, by providing a link to a source.\nThe call is blocking until the download finished or failed.\n","tags":["model"]}},"/model/{modelId}/offers":{"get":{"responses":{"404":{"description":"Model not found"},"202":{"schema":{"items":{"$ref":"#/definitions/Offer"},"type":"array"},"description":"Offers are still calculating. You get only a partial result."},"400":{"description":"Invalid parameters"},"200":{"schema":{"items":{"$ref":"#/definitions/Offer"},"type":"array"},"description":"All offers have been calculated."}},"produces":["application/json"],"parameters":[{"required":true,"in":"path","name":"modelId","type":"string"},{"default":"blockingUntilFinalPrices","in":"query","name":"queryMode","type":"string","enum":["instanceResponse","blockingUntilFinalPrices","blockingUntilEstimatesOrFinalPrices"],"description":"which kind of response"},{"in":"query","name":"scale","type":"number","description":"without parameters the model has it's origial size"},{"default":"USD","in":"query","name":"currency","type":"string","enum":["USD","EUR"],"description":"If no value is provied USD is default"},{"in":"query","name":"countryCode","type":"string","description":"Required for shipping costs (ISO 3166 A-2)"},{"in":"query","name":"promotionCode","type":"string"},{"in":"query","name":"materialGroupFilter","type":"string"},{"in":"query","name":"materialFilter","type":"string"},{"in":"query","name":"finishGroupFilter","type":"string"},{"in":"query","name":"printingServiceFiler","type":"string","enum":["imaterialise","shapeways","sculpteo"]},{"in":"query","name":"colorFilter","type":"string"},{"required":false,"in":"query","name":"sessionToken","type":"string"}],"operationId":"getOffers","tags":["offer"]}},"/orderWithStripe":{"post":{"summary":"Order","consumes":["application/json"],"responses":{"404":{"description":"Model not found"},"400":{"description":"Invalid parameters"},"200":{"schema":{"type":"object","properties":{"orderId":{"type":"string"}}},"description":"todo"}},"produces":["application/json"],"parameters":[{"required":true,"schema":{"required":["cartItems","address","totalPrice","stripeToken","currency"],"type":"object","properties":{"totalPrice":{"type":"number"},"address":{"$ref":"#/definitions/Address"},"currency":{"type":"string"},"cartItems":{"items":{"$ref":"#/definitions/CartItem"},"type":"array"},"stripeToken":{"type":"string"},"promotionCode":{"type":"string"}}},"in":"body","name":"configurations","description":"the configuration for each item in your cart."}],"operationId":"createOrderWithStripe","description":"","tags":["order"]}},"/estimateOffers":{"get":{"summary":"Estimate prices based on basic 3d-model properties","responses":{"400":{"description":"Invalid parameters"},"200":{"schema":{"items":{"$ref":"#/definitions/Offer"},"type":"array"},"description":"All offers have been calculated."}},"produces":["application/json"],"parameters":[{"required":true,"in":"query","name":"volume","type":"number"},{"required":true,"in":"query","name":"surface","type":"number"},{"required":true,"in":"query","name":"bboxX","type":"number","description":"X axis of the bounding box"},{"required":true,"in":"query","name":"bboxY","type":"number","description":"Y axis of the bounding box"},{"required":true,"in":"query","name":"bboxZ","type":"number","description":"Z axis of the bounding box"},{"default":"USD","in":"query","name":"currency","type":"string","enum":["USD","EUR"],"description":"If no value is provied USD is default"},{"in":"query","name":"materialGroupFilter","type":"string"},{"in":"query","name":"materialFilter","type":"string"},{"in":"query","name":"finishGroupFilter","type":"string"},{"in":"query","name":"printingServiceFiler","type":"string","enum":["imaterialise","shapeways","sculpteo"]},{"in":"query","name":"colorFilter","type":"string"}],"operationId":"estimateOffers","description":"Estimation is based on the volume, surface and bounding box of the 3d-model.\nThe unit has to be in 'mm'\n","tags":["offer"]}},"/order/{orderId}":{"get":{"responses":{"404":{"description":"Order not found"},"200":{"schema":{"type":"object","properties":{"status":{"default":"newOrderNotPaidSoFar","type":"string","enum":["newOrderNotPaidSoFar","paymentPending","paymentVerified","paymentRejected","printingServiceOrdered","printingServiceModelsVerified","printingServiceInproduction","printingServiceShipped","printingServiceRejected","faildAndRefunded"]},"orderPaid":{"type":"boolean"}}},"description":"Todo"}},"produces":["application/json"],"parameters":[{"required":true,"in":"path","name":"orderId","type":"string"}],"operationId":"getOrderStatus","tags":["order"]}},"/models":{"get":{"summary":"Get 3d-model properties about all the models you have uploaded","responses":{"200":{"schema":{"items":{"$ref":"#/definitions/Model"},"type":"array"},"description":"successful operation"},"401":{"description":"Not authorized"}},"produces":["application/json"],"parameters":[{"required":true,"in":"query","name":"sessionToken","type":"string"}],"operationId":"getAllModels","description":"","tags":["model"]}},"/model/{modelId}/offer/{materialConfigurationId}":{"get":{"summary":"Get an offer (price) for a modell and a configuration","consumes":["application/json"],"responses":{"404":{"description":"Model not found"},"202":{"schema":{"$ref":"#/definitions/Offer"},"description":"Prices are still calculating. You get a partial / estimate result."},"400":{"description":"Invalid parameters"},"200":{"schema":{"$ref":"#/definitions/Offer"},"description":"successful operation"}},"produces":["application/json"],"parameters":[{"required":true,"in":"path","name":"modelId","type":"string","description":"The model"},{"required":true,"in":"path","name":"materialConfigurationId","type":"string","description":"Use the /materialConfigurations"},{"default":"blockingUntilFinalPrices","in":"query","name":"queryMode","type":"string","enum":["instanceResponse","blockingUntilFinalPrices","blockingUntilEstimatesOrFinalPrices"],"description":"which kind of response"},{"format":"float","in":"query","name":"scale","type":"number","description":"Scaling of the model (default 1.0)"},{"in":"query","name":"countryCode","type":"string"},{"in":"query","name":"currency","type":"string","enum":["USD","EUR"],"description":"The currency (default 'USD')"},{"in":"query","name":"promotionCode","type":"string"},{"required":false,"in":"query","name":"sessionToken","type":"string"}],"operationId":"getOffer","description":"Falid parameters for `queryMode` are:\n[`instanceResponse`, `blockingUntilFinalPrices`, `blockingUntilEstimatesOrFinalPrices`]\nThe default is `blockingUntilFinalPrices`\n","tags":["offer"]}},"/model/subscribeToNewOffers":{"get":{"summary":"Websocket api (private)","responses":{"404":{"description":"Model not found"},"400":{"description":"Invalid parameters"},"200":{"schema":{"$ref":"#/definitions/Offer"},"description":"All offers have been calculated."}},"produces":["application/json"],"parameters":[{"required":true,"in":"query","name":"modelId","type":"string"},{"in":"query","name":"scale","type":"number","description":"without parameters the model has it's origial size"},{"default":"USD","in":"query","name":"currency","type":"string","enum":["USD","EUR"],"description":"If no value is provied USD is default"},{"in":"query","name":"countryCode","type":"string","description":"Required for shipping costs (ISO 3166 A-2)"},{"in":"query","name":"promotionCode","type":"string"}],"operationId":"subscribeToNewOffers","description":"","tags":["offer"]}},"/orderWithPaypal":{"post":{"summary":"Order","consumes":["application/json"],"responses":{"404":{"description":"Model not found"},"400":{"description":"Invalid parameters"},"200":{"schema":{"type":"object","properties":{"paypalPaymentUrl":{"type":"string"},"orderId":{"type":"string"}}},"description":"todo"}},"produces":["application/json"],"parameters":[{"required":true,"schema":{"required":["cartItems","address","totalPrice","currency"],"type":"object","properties":{"totalPrice":{"type":"number"},"address":{"$ref":"#/definitions/Address"},"currency":{"type":"string"},"cartItems":{"items":{"$ref":"#/definitions/CartItem"},"type":"array"},"promotionCode":{"type":"string"}}},"in":"body","name":"configurations","description":"the configuration for each item in your cart."}],"operationId":"createOrderWithPaypal","description":"","tags":["order"]}},"/order":{"post":{"summary":"Executes an Order","consumes":["application/json"],"responses":{"404":{"description":"Model not found"},"400":{"description":"Invalid parameters"},"200":{"schema":{"type":"object","properties":{"orderId":{"type":"string"}}},"description":"todo"}},"produces":["application/json"],"parameters":[{"required":true,"schema":{"required":["cartItems","address","totalPrice","apiKey","secretKey","currency"],"type":"object","properties":{"apiKey":{"type":"string"},"totalPrice":{"type":"number"},"address":{"$ref":"#/definitions/Address"},"secretKey":{"type":"string"},"currency":{"type":"string"},"cartItems":{"items":{"$ref":"#/definitions/CartItem"},"type":"array"},"promotionCode":{"type":"string"}}},"in":"body","name":"configurations"}],"operationId":"order","description":"This call executes the order / production of the 3d-model.\nDu bezahlt mit den Zahlungsinformationen die du in unserem Dashboard hinerlegt hast\n**Do this only on your private server! Never via Client-JS calls!**\n","tags":["order"]}},"/materialConfigurations":{"get":{"summary":"Get the structure of the materials","responses":{"200":{"schema":{"$ref":"#/definitions/MaterialConfiguration"},"description":"The Material Configurations"}},"produces":["application/json"],"parameters":[{"in":"query","name":"materialGroupFilter","type":"string"},{"in":"query","name":"materialFilter","type":"string"},{"in":"query","name":"finishGroupFilter","type":"string"},{"in":"query","name":"printingServiceFiler","type":"string","enum":["imaterialise","shapeways","sculpteo"]},{"in":"query","name":"colorFilter","type":"string"}],"operationId":"getMaterialConfigurations","description":"You can use the filters to narrow down your search","tags":["material"]}},"/model":{"post":{"summary":"Upload a new 3d model to the prining engine","consumes":["application/x-www-form-urlencoded"],"responses":{"405":{"description":"Invalid input"},"200":{"schema":{"type":"object","properties":{"modelId":{"type":"string"}}},"description":"successful operation"}},"produces":["application/json"],"parameters":[{"required":true,"in":"formData","name":"file","type":"file","description":"The 3D-model file (only .stl-files are supported right now)"},{"required":true,"in":"formData","name":"unit","type":"string","enum":["mm","inch","cm","m"],"description":"The unit (mm, inch, cm, m) of the model"},{"required":false,"in":"formData","name":"sessionToken","type":"string","description":"If you want to bind the uploaded model to your useraccount, you have to provide a session-token"}],"operationId":"uploadModel","description":"You have to use this REST-API-Call or /fetchModel to add a new 3d model to the printing engine.\n","tags":["model"]}},"/cart":{"post":{"summary":"Get the prices for a shopping cart","consumes":["application/json"],"responses":{"404":{"description":"Model not found"},"400":{"description":"Invalid parameters"},"200":{"schema":{"type":"object","properties":{"totalPrice":{"$ref":"#/definitions/Price"},"offers":{"items":{"$ref":"#/definitions/Offer"},"type":"array"}}},"description":"Returns the offers for each configuration. And a total price for the whole cart."}},"produces":["application/json"],"parameters":[{"required":true,"schema":{"required":["configuration"],"type":"object","properties":{"address":{"$ref":"#/definitions/Address"},"currency":{"type":"string"},"countryCode":{"type":"string"},"configuration":{"items":{"$ref":"#/definitions/CartItem"},"type":"array"},"promotionCode":{"type":"string"}}},"in":"body","name":"configurations","description":"the configuration for each item in your cart."}],"operationId":"getCart","description":"Ether provide countryCode or a address","tags":["offer"]}},"/model/{modelId}":{"get":{"summary":"Get basic informations about a model","responses":{"404":{"description":"Model not found"},"200":{"schema":{"$ref":"#/definitions/Model"},"description":"successful operation"}},"produces":["application/json"],"parameters":[{"required":true,"in":"path","name":"modelId","type":"string"},{"required":false,"in":"query","name":"sessionToken","type":"string","description":"You get the designer commisson and downloadUrl only if you provide a session token"}],"operationId":"getModel","description":"","tags":["model"]},"delete":{"summary":"Deletes a model","responses":{"403":{"description":"No authorisation to delete the model"},"404":{"description":"Invalid Model"},"200":{"description":"Model deleted"}},"produces":["application/json"],"parameters":[{"required":true,"in":"header","name":"sessionToken","type":"string","description":""},{"required":true,"in":"path","name":"modelId","type":"string","description":"Model to delete"}],"operationId":"deleteModel","description":"","tags":["model"]},"put":{"summary":"Change the commisson for the model","consumes":["application/json"],"responses":{"400":{"description":"invalid model"},"200":{"description":"successful changed"},"401":{"description":"Not authorized"}},"produces":["application/json"],"parameters":[{"required":true,"in":"path","name":"modelId","type":"string"},{"required":true,"schema":{"type":"object","properties":{"sessionToken":{"type":"string"},"commissonCurrency":{"type":"string"},"commisson":{"type":"number"}}},"in":"body","name":"model"}],"operationId":"changeModel","description":"","tags":["model"]}}}}